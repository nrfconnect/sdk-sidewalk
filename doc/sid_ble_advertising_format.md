###############################################################
Sidewalk Advertisment Format
----------------------------
31 bytes advertisement payload consists of 0-6B header and 7-30B of manufacturer data.
Header consists "Flags Ad type" and "16-bit Service Class UUID Ad type" in LTV format.
Manufacturer data in LTV format with 7th and 8th byte representing manufacturer length,
tag and manufacturer specific data starting from 9th byte.

1. Advertisement payload description
╔═══════════════╦══════════════════════════════╦═══════════════════════════════════════════════╗
║Byte Position  ║Value                         ║Description                                    ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 0             ║0x02                          ║Length of "Flags Ad Type"                      ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 1             ║0x01                          ║"Flags Ad Type" Identifier                     ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 2             ║0x06                          ║"Ad Type value" BLE only accessory             ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 3             ║0x03                          ║Length "16-bit Service Class UUID Ad Type"     ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 4             ║0x03                          ║List of 16-bitService Class UUID Ad Type"Id    ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 5-6           ║0x03FE                        ║"16-bit Service UUID value"(AMA Service UUID)  ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 7             ║0x17                          ║Manufacturing Data Length                      ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 8             ║0xFF                          ║Manufacturing Tag                              ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 9-10          ║0x7101                        ║Vendor Id assigned by BT SIG                   ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 11            ║0x0 to 0x63                   ║Sidewalk Application id                        ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 12            ║Details in table below        ║Device State bit mask                          ║
╠═══════════════╬══════════════════════════════╬═══════════════════════════════════════════════╣
║ 13-30         ║Details in table below        ║Application Specific Data                      ║
╚═══════════════╩══════════════════════════════╩═══════════════════════════════════════════════╝
----------------------------
NrfConnect Scanner application on IOS|Android can be used to check Advertisement packet format.
Advertisement packet will be displayed on NrfConnect as depicted below:
1. 16-bit Service UUID: 0xFE03
2. Manufacturing Data : 0x0171211380A001020304

╔═════════════════════════════════════════════════════════════════╗
║Manufacturer specific data : 0x0171211380A001020304              ║
╠══════════════╦══════════════╦═══════════════════════════════════╣
║Byte position ║Value         ║Description                        ║
╠══════════════╬══════════════╬═══════════════════════════════════╣
║9 -10         ║0x0171        ║BT SIG Amazon Id                   ║
╠══════════════╬══════════════╬═══════════════════════════════════╣
║11            ║0x21          ║Sidewalk application Id            ║
╠══════════════╬══════════════╬═══════════════════════════════════╣
║12            ║0x13          ║Device State                       ║
╠══════════════╬══════════════╬═══════════════════════════════════╣
║13            ║0x80          ║RESERVED frame indicator(Prov type)║
╠══════════════╬══════════════╬═══════════════════════════════════╣
║14-18         ║0xA001020304  ║TX UUID                            ║
╚══════════════╩══════════════╩═══════════════════════════════════╝

Detailed description for 12 - 30B of manufacturer data is shown below:
1. Device State Bit Mask (12th byte)
╔══════════════════════════════════════════════╗
║Bits 0: Device State                          ║
╠═══════════════╦══════════════════════════════╣
║Bit 0          ║Description                   ║
╠═══════════════╬══════════════════════════════╣
║0              ║BT Classic                    ║
╠═══════════════╬══════════════════════════════╣
║1              ║BLE                           ║
╚═══════════════╩══════════════════════════════╝

╔═════════════════════════════════════╗
║Bits 1-2b: Device Mode               ║
╠══════╦══════╦═══════════════════════╣
║Bit 2 ║Bit 1 ║Description            ║
╠══════╬══════╬═══════════════════════╣
║0     ║0     ║Normal Mode            ║
╠══════╬══════╬═══════════════════════╣
║0     ║1     ║OOBE Mode              ║
╠══════╬══════╬═══════════════════════╣
║1     ║0     ║Connection request     ║
╠══════╬══════╬═══════════════════════╣
║1     ║1     ║Reserved               ║
╚══════╩══════╩═══════════════════════╝

╔═════════════════════════════════════╗
║Bits 3-4b:  Battery Level            ║
╠══════╦══════╦═══════════════════════╣
║Bit 4 ║Bit 3 ║Description            ║
╠══════╬══════╬═══════════════════════╣
║0     ║0     ║Critical level         ║
╠══════╬══════╬═══════════════════════╣
║0     ║1     ║Low level              ║
╠══════╬══════╬═══════════════════════╣
║1     ║0     ║Normal level           ║
╠══════╬══════╬═══════════════════════╣
║1     ║1     ║Reserved               ║
╚══════╩══════╩═══════════════════════╝

╔═════════════════════════════════════╗
║Bits 5-7b:Adv Format Version         ║
╠══════╦══════╦══════╦════════════════╣
║Bit 7 ║Bit 6 ║Bit 5 ║Description     ║
╠══════╬══════╬══════╬════════════════╣
║0     ║0     ║0     ║Current Version ║
╚══════╩══════╩══════╩════════════════╝
----------------------------
2. Application Specific Data
╔═══════════════════════════════════════════════╗
║Application Specific Data (13 - 30B)           ║
╠═══════════════╦═══════════════════════════════╣
║No of Bytes    ║Description                    ║
╠═══════════════╬═══════════════════════════════╣
║1B             ║Frame Indicator                ║
╠═══════════════╬═══════════════════════════════╣
║5B             ║TX-UUID                        ║
╠═══════════════╬═══════════════════════════════╣
║1B-4B          ║Counter (optional)             ║
╠═══════════════╬═══════════════════════════════╣
║4B             ║Auth code (optional)           ║
╠═══════════════╬═══════════════════════════════╣
║Remaining Bytes║Encrypted Payload Data         ║
╚═══════════════╩═══════════════════════════════╝

2.1  Frame Indicator
╔═════════════════════════════════════╗
║TX-UUID Format                       ║
╠══════╦══════╦═══════════════════════╣
║Bit 7 ║Bit 6 ║Description            ║
╠══════╬══════╬═══════════════════════╣
║0     ║0     ║TX-UUID time-based     ║
╠══════╬══════╬═══════════════════════╣
║0     ║1     ║TX-UUID counter-based  ║
╠══════╬══════╬═══════════════════════╣
║1     ║0     ║Reserved               ║
╠══════╬══════╬═══════════════════════╣
║1     ║1     ║Reserved               ║
╚══════╩══════╩═══════════════════════╝
╔═══════════════════════════════════════════════════════════╗
║Payload Data Indicator (6b) (Bit 0 to 5)                   ║
╠══════╦══════╦══════╦══════╦══════╦══════╦═════════════════╣
║Bit 5 ║Bit 4 ║Bit 3 ║Bit 2 ║Bit 1 ║Bit 0 ║Description      ║
╠══════╬══════╬══════╬══════╬══════╬══════╬═════════════════╣
║0     ║0     ║0     ║0     ║0     ║0     ║No Data          ║
╠══════╬══════╬══════╬══════╬══════╬══════╬═════════════════╣
║0     ║0     ║0     ║0     ║0     ║1     ║Vendor Specific  ║
╚══════╩══════╩══════╩══════╩══════╩══════╩═════════════════╝

3. Application Specific Data(13-30 Bytes) example types:
╔═════════════════════════════════════════════════════════════════════════════════════════════╗
║Application Specific Data types                                                              ║
╠═══════════════╦═════════╦═════════╦═════════╦════════════╦══════════════════════════════════╣
║Frame Indicator║TX UUID  ║Counter  ║Auth Tag ║Enc payload ║Description                       ║
╠═══════════════╬═════════╬═════════╬═════════╬════════════╬══════════════════════════════════╣
║0x41 to 0x7F   ║5B       ║4B       ║4B       ║4B          ║Counter Based with Data           ║
╠═══════════════╬═════════╬═════════╬═════════╬════════════╬══════════════════════════════════╣
║0x40           ║5B       ║4B       ║NA       ║NA          ║Counter Based No Data             ║
╠═══════════════╬═════════╬═════════╬═════════╬════════════╬══════════════════════════════════╣
║0x01 to 0x3F   ║5B       ║1B       ║4B       ║7B          ║Time Based with Data              ║
╠═══════════════╬═════════╬═════════╬═════════╬════════════╬══════════════════════════════════╣
║0x00           ║5B       ║NA       ║NA       ║NA          ║Time Based No Data                ║
╠═══════════════╬═════════╬═════════╬═════════╬════════════╬══════════════════════════════════╣
║IGNORE value   ║5B       ║NA       ║NA       ║NA          ║Provisioning Type:                ║
║               ║         ║         ║         ║            ║Device mode in Device State byte  ║
║               ║         ║         ║         ║            ║(12th byte) is OOBE Mode, then    ║
║               ║         ║         ║         ║            ║its considered as Provisioning    ║
║               ║         ║         ║         ║            ║type                              ║
╚═══════════════╩═════════╩═════════╩═════════╩════════════╩══════════════════════════════════╝
----------------------------
Sample Application in SDK drop advertises "Provisioning Type" beacon with below settings:
1. Application Id - 0x21 (Sidewalk application Id)
2. Battery Level  - Normal
3. Frame Indicator - RESERVED
4. TX UUID - A001020304
----------------------------
###############################################################
